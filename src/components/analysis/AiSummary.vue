<script setup>
import { computed } from 'vue';

const props = defineProps({
    stats: {
        type: Object,
        required: true,
    },
});

// –õ–æ–≥–∏–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–µ–∫—Å—Ç–∞ –ø–µ—Ä–µ–µ—Ö–∞–ª–∞ —Å—é–¥–∞
const summaryText = computed(() => {
    const { positive, negative, toxic, total } = props.stats;
    if (!total) return '–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞.';

    const positivePercent = Math.round((positive / total) * 100);

    if (positivePercent > 70) {
        return `–ê—É–¥–∏—Ç–æ—Ä–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∫—Ä–∞–π–Ω–µ –ª–æ—è–ª—å–Ω–æ (${positivePercent}% –ø–æ–∑–∏—Ç–∏–≤–∞). –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –≤–æ–≤–ª–µ—á–µ–Ω–Ω–æ—Å—Ç—å.`;
    } else if (negative > positive) {
        return `–í–Ω–∏–º–∞–Ω–∏–µ! –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã—Ö –æ—Ç–∑—ã–≤–æ–≤ –ø—Ä–µ–æ–±–ª–∞–¥–∞–µ—Ç. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏—á–∏–Ω—ã –Ω–µ–¥–æ–≤–æ–ª—å—Å—Ç–≤–∞.`;
    } else if (toxic > 0) {
        return `–û–±–Ω–∞—Ä—É–∂–µ–Ω–æ ${toxic} —Ç–æ–∫—Å–∏—á–Ω—ã—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –æ—á–∏—Å—Ç–∫–∞ —á–∞—Ç–∞ –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤.`;
    }
    return '–¢–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ —Å—Ç–∞–±–∏–ª—å–Ω–∞, –∞–Ω–æ–º–∞–ª–∏–π –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ.';
});
</script>

<template>
    <div
        class="bg-gradient-to-r from-blue-50 to-white border-l-4 border-blue-500 p-6 rounded-r-2xl shadow-sm"
    >
        <div class="flex items-start gap-4">
            <span class="text-4xl">üí°</span>
            <div>
                <h4
                    class="font-bold text-blue-900 text-xs uppercase tracking-wider mb-1"
                >
                    AI Insights (–ó–∞–∫–ª—é—á–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã):
                </h4>
                <p class="text-blue-900 text-lg leading-relaxed font-medium">
                    {{ summaryText }}
                </p>
            </div>
        </div>
    </div>
</template>
